(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._text=e.cardname,this._image=e.link,this._cardSelector=n,this._handleCardClick=r}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photo").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._photoImage=this._element.querySelector(".photo__image"),this._setEventListeners(),this._photoImage.src=this._image,this._photoImage.alt=this._text,this._element.querySelector(".photo__text").textContent=this._text,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".photo__vector").addEventListener("click",(function(t){e._handleLikeClick(t)})),this._element.querySelector(".photo__bin").addEventListener("click",(function(t){e._handleBinClick(t)})),this._photoImage.addEventListener("click",(function(){e._handleCardClick(e._text,e._image)}))}},{key:"_handleLikeClick",value:function(e){e.target.classList.toggle("photo__vector_active")}},{key:"_handleBinClick",value:function(){this._element.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formList=n,this._buttonElement=this._formList.querySelector(this._submitButtonSelector)}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e){var t=this._formList.querySelector("#".concat(e.id,"-error"));e.classList.add(this._errorClass),t.textContent=e.validationMessage,t.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._formList.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._errorClass),t.classList.remove(this._inputErrorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"enableValidation",value:function(){var e=this;this._inputList=Array.from(this._formList.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o=[{cardname:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{cardname:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{cardname:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{cardname:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{cardname:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{cardname:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(){var e=this;o.forEach((function(t){e._renderer(t)}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_active")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_active")}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target===e._popup||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t,n=e.popupSelector,r=e.imagePhoto,o=e.imageText;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._imagePhoto=document.querySelector(r),t._imageText=document.querySelector(o),t}return t=a,(n=[{key:"open",value:function(e,t){this._imagePhoto.src=t,this._imagePhoto.alt=e,this._imageText.textContent=e,p(y(a.prototype),"open",this).call(this)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupFormCard=n._popup.querySelector(".form"),n._handleFormSubmit=r,n._inputList=Array.from(n._popupFormCard.querySelectorAll(".form__item")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;b(S(a.prototype),"setEventListeners",this).call(this),this._popupFormCard.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){b(S(a.prototype),"close",this).call(this),this._popupFormCard.reset()}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n){var r=t.username,o=t.job,i=t.avatar,a=t.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._username=document.querySelector(r),this._job=document.querySelector(o),this._avatar=document.querySelector(i),this._idUser=a}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{username:this._username.textContent,job:this._job.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e,t){this._job.textContent=t,this._username.textContent=e}},{key:"setUserAvatar",value:function(e){this._avatar.src=e}},{key:"setUserDataInfo",value:function(e){this._job.textContent=e.about,this._username.textContent=e.name,this._avatar.src=e.avatar,this._idUser=e.id}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return fetch(this._url+"/users/me",{method:"GET",headers:this._headers})}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),P=document.querySelector(".popup-open"),x=document.querySelector(".form"),I=document.querySelector(".form__item_type_name"),q=document.querySelector(".form__item_type_job"),B=document.querySelector(".popup-cards"),T=document.querySelector(".add-open"),R=B.querySelector(".form-card"),U={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"form__item-error_active",errorClass:"form__item_type_error"};new L({baseUrl:"https://nomoreparties.co/v1/cohort-41",headers:{authorization:"cce2dc6d-fce0-4adb-80f6-8b8fce306754","content-type":"application/json"}}).getUserInfo();var F=new r(U,x),V=new r(U,R);F.enableValidation(),V.enableValidation();var D=new _({popupSelector:".popup-image",imagePhoto:".popup__photo",imageText:".popup__text"}),A=function(e,t){D.open(e,t)};D.setEventListeners();var z=function(e){return new t(e,".card-template",A).generateCard()},G=new a({data:o,renderer:function(e){var t=z(e);G.addItem(t)}},".cards__elements");G.renderItems();var M=new j(".popup-cards",{handleFormSubmit:function(e){G.addItem(z(e)),M.close()}}),N=new C({username:".profile__name",job:".profile__job",avatar:".profile__avatar",id:{}}),H=new j(".popup-form",{handleFormSubmit:function(e){N.setUserInfo(e),H.close()}});H.setEventListeners(),M.setEventListeners(),P.addEventListener("click",(function(){F.disableSubmitButton();var e=N.getUserInfo();I.value=e.username,q.value=e.job,H.open()})),T.addEventListener("click",(function(){V.disableSubmitButton(),M.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FOYSxLQVNUa0csRUFBbUIsSUFBSXRELEVBQWMsY0FBZSxDQUN4REMsaUJBQWtCLFNBQUNHLEdBQ2pCaUQsRUFBU0UsWUFBWW5ELEdBQ3JCa0QsRUFBaUJqRSxXQUlyQmlFLEVBQWlCUixvQkFDakJNLEVBQWNOLG9CQUdkaEIsRUFBa0JwRyxpQkFBaUIsU0FBUyxXQUUxQytHLEVBQWE1RSxzQkFFYixJQUFNMkYsRUFBbUJILEVBQVNiLGNBQ2xDUixFQUFVekIsTUFBUWlELEVBQWlCM0MsU0FFbkNvQixFQUFTMUIsTUFBUWlELEVBQWlCMUMsSUFDbEN3QyxFQUFpQlQsVUFJbkJWLEVBQWV6RyxpQkFBaUIsU0FBUyxXQUN2Q2dILEVBQWE3RSxzQkFDYnVGLEVBQWNQLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g0LrQu9Cw0YHRgSDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgLy/QtNCw0L3QvdGL0LUg0LrQsNGA0YLQvtGH0LrQuCDQuCB0ZW1wbGF0ZVxyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl90ZXh0ID0gZGF0YS5jYXJkbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgcGhvdG9DYXJkID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHBob3RvQ2FyZDtcclxuICB9XHJcbiAgLy/Qv9GA0LjRgdCy0LDQtdCy0LDQtdC8INC60LvQsNGB0YHRiyDQt9C90LDRh9C10L3QuNGP0Lwg0LrQsNGA0YLQvtGH0LXQulxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgLy8g0JTQvtCx0L7QstC70Y/QtdC8INC00LDQvdC90YvQtVxyXG4gICAgdGhpcy5fcGhvdG9JbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b19faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcGhvdG9JbWFnZS5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX3Bob3RvSW1hZ2UuYWx0ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b19fdGV4dFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBsaWtlXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvX192ZWN0b3JcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgLy8gYmluXHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvX19iaW5cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQmluQ2xpY2soZXZ0KTtcclxuICAgICAgfSk7XHJcbiAgICAvLyDQvtGC0LrRgNGL0YLQuNC1INC60LDRgNGC0LjQvdC60LhcclxuICAgIHRoaXMuX3Bob3RvSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX3RleHQsIHRoaXMuX2ltYWdlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyBsaWtlXHJcbiAgX2hhbmRsZUxpa2VDbGljayhldnQpIHtcclxuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcInBob3RvX192ZWN0b3JfYWN0aXZlXCIpO1xyXG4gIH1cclxuICAvL2JpblxyXG4gIF9oYW5kbGVCaW5DbGljaygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcbiIsIlxyXG5leHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgZm9ybUxpc3QpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGRhdGEuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGRhdGEuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZGF0YS5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBkYXRhLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBkYXRhLmVycm9yQ2xhc3M7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICB0aGlzLl9mb3JtTGlzdCA9IGZvcm1MaXN0O1xyXG4gICAgLy9jb25zb2xlLmxvZyAoZm9ybUxpc3QpXHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUxpc3QucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvL9C/0L7QutCw0LfRi9Cy0LDQtdGCINGN0LvQtdC80LXQvdGCINC+0YjQuNCx0LrQuFxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1MaXN0LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGVycm9yRWxlbWVudClcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIC8vINGB0LrRgNGL0LLQsNC10YIg0Y3Qu9C10LzQtdC90YIg0L7RiNC40LHQutC4XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUxpc3QucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgLy9jb25zb2xlLmxvZyhlcnJvckVsZW1lbnQpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0LjQvdC/0YPRgtC+0LIg0LTQu9GPINC60L3QvtC/0LrQuFxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0LHQu9C+0LrQuNGA0L7QstC60Lgg0LrQvdC+0L/QutC4XHJcbiAgZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuXHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5fYnV0dG9uRWxlbWVudClcclxuICB9XHJcblxyXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0LrQvdC+0L/QutC4XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIC8vINCV0YHQu9C4INC10YHRgtGMINGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0L3QtdCy0LDQu9C40LTQvdGL0Lkg0LjQvdC/0YPRglxyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIC8vINGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0L3QtdCw0LrRgtC40LLQvdC+0LlcclxuICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDQuNC90LDRh9C1INGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0LDQutGC0LjQstC90L7QuVxyXG4gICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjCDQv9C+0LvQtdC5XHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIC8vY29uc29sZS5sb2coaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKVxyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0LXRgNC10LHQvtGA0LAg0LLRgdC10YUgaW5wdXRzINGE0L7RgNC8XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1MaXN0LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX2lucHV0TGlzdClcclxuXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgeyBpbml0aWFsQ2FyZHMgYXMgaXRlbXMgfTtcclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIGNhcmRuYW1lOiBcItCQ0YDRhdGL0LdcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIGNhcmRuYW1lOiBcItCn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YxcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIGNhcmRuYW1lOiBcItCY0LLQsNC90L7QstC+XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgY2FyZG5hbWU6IFwi0JrQsNC80YfQsNGC0LrQsFwiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgY2FyZG5hbWU6IFwi0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L1cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIGNhcmRuYW1lOiBcItCR0LDQudC60LDQu1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcbiIsImltcG9ydCB7IGl0ZW1zIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJJdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICAvL2NvbnNvbGUubG9nKGRhdGEpXHJcbiAgfVxyXG5cclxuICAvLyDQtNC+0LHQsNCy0LvQtdC90L3QsNGPINC60LDRgNGC0L7Rh9C60LAg0L7RgtGA0LjRgdC+0LLRi9Cy0LDQtdGC0YHRjyDQsiDQvdCw0YfQsNC70LVcclxuICBhZGRJdGVtKGNhcmRFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICAvLyDRgdC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0Lgg0LXRkSDRgNC10L3QtNC10YBcclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8v0YTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L8t0LDQv9C+0LJcclxuICBvcGVuKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX2FjdGl2ZVwiKTsgLy/RhNGD0L3QutGG0LjRjyDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L8t0LDQv9CwXHJcbiAgfVxyXG4gIC8v0YTRg9C90LrRhtC40Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+0L8t0LDQv9C+0LJcclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9hY3RpdmVcIik7IC8v0YTRg9C90LrRhtC40Y8g0LTQu9GPINC30LDQutGA0YvRgtC40Y9cclxuICB9XHJcblxyXG4gIC8v0LfQsNC60YDRi9GC0LjQtSDQv9C+0L8t0LDQv9CwINC90LAgZXNjdXBcclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy/RgdC70YPRiNCw0YLQtdC70Ywg0LTQu9GPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/LdCw0L/QsCDQvdCwIG92ZXJsYXkg0Lgg0LrRgNC10YHRgtC40LpcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZlbnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cCB8fFxyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY2xvc2VcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbi8v0L/QvtC/LdC/0LDQvyDRgSDQutCw0YDRgtC40L3QutC+0LlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBpbWFnZVBob3RvLCBpbWFnZVRleHQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbWFnZVBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbWFnZVBob3RvKTtcclxuICAgIHRoaXMuX2ltYWdlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW1hZ2VUZXh0KTtcclxuICB9XHJcbiAgLy8g0L7RgtC60YDRi9GC0LjQtSDQv9C+0L8t0LDQv9CwXHJcbiAgb3BlbihjYXJkbmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5faW1hZ2VQaG90by5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2VQaG90by5hbHQgPSBjYXJkbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlVGV4dC50ZXh0Q29udGVudCA9IGNhcmRuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtQ2FyZCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIHRoaXMuX3BvcHVwRm9ybUNhcmQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pdGVtXCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm1DYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtQ2FyZC5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyB1c2VybmFtZSwgam9iLCBhdmF0YXIsIGlkfSwgYXBpKSB7XHJcbiAgICB0aGlzLl91c2VybmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlcm5hbWUpO1xyXG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xyXG4gICAgdGhpcy5faWRVc2VyID0gaWQ7XHJcbiAgICAvL3RoaXMuX2FwaSA9IGFwaTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgaW5wdXRVc2VySW5mbyA9IHtcclxuICAgICAgdXNlcm5hbWU6IHRoaXMuX3VzZXJuYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGlucHV0VXNlckluZm87XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh1c2VybmFtZSwgam9iKSB7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBqb2IsXHJcbiAgICB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudCA9IHVzZXJuYW1lO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VyRGF0YUluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gZGF0YS5hYm91dCxcclxuICAgIHRoaXMuX3VzZXJuYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lLFxyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgdGhpcy5faWRVc2VyID0gZGF0YS5pZDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG50aGlzLl9iYXNlVXJsID0gY29uZmlnLnVybDtcclxudGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIGRlYnVnZ2VyXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCArICcvdXNlcnMvbWUnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHsgaXRlbXMgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCJcclxuXHJcbmNvbnN0IHByb2ZpbGVPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1vcGVuXCIpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qvy3QsNC/0LBcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7IC8v0JLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQvNC10YLQvtC00L7QvCBxdWVyeVNlbGVjdG9yKClcclxuLy8g0J3QsNGF0L7QtNC40Lwg0L/QvtC70Y8g0YTQvtGA0LzRiyDQsiBET01cclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pdGVtX3R5cGVfbmFtZVwiKTsgLy8g0JLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0LwgLnF1ZXJ5U2VsZWN0b3IoKVxyXG5jb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faXRlbV90eXBlX2pvYlwiKTsgLy8g0JLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0LwgLnF1ZXJ5U2VsZWN0b3IoKVxyXG5cclxuY29uc3QgY2FyZHNQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtY2FyZHNcIik7IC8v0L/QvtC/LdC/0LDQvyDRhNC+0YDQvNGLINGBINC60LDRgNGC0LjQvdC60LDQvNC4XHJcbmNvbnN0IGNhcmRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtb3BlblwiKTsgLy/QutC90L7Qv9C60LAg0L7RgtC60YDRi9GC0LjRjyDRhNC+0YDQvNGLINC/0L7Qvy3QsNC/0LAg0YEg0LrQsNGA0YLQuNC90LrQsNC80LhcclxuXHJcbi8vY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50c1wiKTsgLy8g0YHQv9C40YHQvtC6INC60L7QvdGC0LXQudC90LXRgFxyXG5jb25zdCBmb3JtQ2FyZCA9IGNhcmRzUG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtLWNhcmRcIik7IC8v0LTQu9GPINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCDQutCw0YDRgtC40L3QutC4XHJcblxyXG5jb25zdCBvYmogPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faXRlbVwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZVwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3NhdmVfZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faXRlbS1lcnJvcl9hY3RpdmVcIixcclxuICBlcnJvckNsYXNzOiBcImZvcm1fX2l0ZW1fdHlwZV9lcnJvclwiLFxyXG59O1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSAoe2Jhc2VVcmw6ICdodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnY2NlMmRjNmQtZmNlMC00YWRiLTgwZjYtOGI4ZmNlMzA2NzU0JyxcclxuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgfVxyXG59KTtcclxuXHJcbmFwaS5nZXRVc2VySW5mbygpXHJcblxyXG4vL9Cy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxyXG5jb25zdCB2YWxpZGl0eUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvYmosIHByb2ZpbGVGb3JtKTtcclxuY29uc3QgdmFsaWRpdHlDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqLCBmb3JtQ2FyZCk7XHJcblxyXG52YWxpZGl0eUZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG52YWxpZGl0eUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy/Qv9C+0L8t0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuSwg0L/RgNC40YHQstC+0LXQvdC40LUg0LfQvdCw0YfQtdC90LjQuSAo0Y3RgtC+INC90LUg0LLQvtC70YjQtdCx0YHRgtCy0L4pXHJcbmNvbnN0IHBvcHVwV2l0aE9wZW5JbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXAtaW1hZ2VcIixcclxuICBpbWFnZVBob3RvOiBcIi5wb3B1cF9fcGhvdG9cIixcclxuICBpbWFnZVRleHQ6IFwiLnBvcHVwX190ZXh0XCIsXHJcbn0pO1xyXG4vLyDRhNGD0L3QutGG0LjRjyDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L8t0L/QsNC/0LAg0LrQsNGA0YLQuNC90LrQuFxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoY2FyZG5hbWUsIGxpbmspID0+IHtcclxuICBwb3B1cFdpdGhPcGVuSW1hZ2Uub3BlbihjYXJkbmFtZSwgbGluayk7XHJcbn07XHJcbnBvcHVwV2l0aE9wZW5JbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/RgdC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0Lgg0YLQtdC80L/Qu9C10LnRgtCwINC4INGE0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0LrQsNGA0YLQuNC90LrQuFxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIuY2FyZC10ZW1wbGF0ZVwiLCBoYW5kbGVDYXJkQ2xpY2spO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn07XHJcbi8vINC80LDRgdGB0LjQsiDRgSDQutCw0YDRgtC+0YfQutCw0LzQuCDQstGB0YLQsNCy0LvRj9C10Lwg0LIg0L/RgNC+0LXQutGCXHJcbmNvbnN0IHJlbmRlckNhcmQgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBkYXRhOiBpdGVtcyxcclxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbiAgICAgIHJlbmRlckNhcmQuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXCIuY2FyZHNfX2VsZW1lbnRzXCJcclxuKTtcclxuXHJcbnJlbmRlckNhcmQucmVuZGVySXRlbXMoKTtcclxuXHJcbi8vINC/0L7Qvy3Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5XHJcbmNvbnN0IHBvcHVwV2l0aENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cC1jYXJkc1wiLCB7XHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgIHJlbmRlckNhcmQuYWRkSXRlbShjcmVhdGVDYXJkKGRhdGEpKTtcclxuICAgIHBvcHVwV2l0aENhcmQuY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGlkVXNlciA9IHt9XHJcbi8vINC/0L7Qvy3Qv9Cw0L8g0L/RgNC+0YTQuNC70YxcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIHVzZXJuYW1lOiBcIi5wcm9maWxlX19uYW1lXCIsXHJcbiAgam9iOiBcIi5wcm9maWxlX19qb2JcIixcclxuICBhdmF0YXI6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxyXG4gIGlkOiBpZFVzZXJcclxufSk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXAtZm9ybVwiLCB7XHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGlucHV0VmFsdWVzKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhpbnB1dFZhbHVlcyk7XHJcbiAgICBwb3B1cFdpdGhQcm9maWxlLmNsb3NlKCk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5wb3B1cFdpdGhQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8v0KHQvtGF0YDQsNC90LXQvdC40LUg0LTQsNC90L3Ri9GFINC00LvRjyDQv9C+0L8t0LDQv9CwINGE0L7RgNC80Ysg0L/RgNC+0YTQuNC70YxcclxucHJvZmlsZU9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAvL1xyXG4gIHZhbGlkaXR5Rm9ybS5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcblxyXG4gIGNvbnN0IHByb2ZpbGVVc2VyUG9wdXAgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVVc2VyUG9wdXAudXNlcm5hbWU7IC8v0LfQsNC/0LjRgdGL0LLQsNC10Lwg0LTQsNC90L3Ri9C1INCyINC40L3Qv9GD0YIg0LjQtyDQv9GA0L7RhNCw0LnQu9CwXHJcblxyXG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZVVzZXJQb3B1cC5qb2I7XHJcbiAgcG9wdXBXaXRoUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8g0L7RgtC60YDRi9GC0LjQtSDQv9C+0L8t0LDQv9CwINC00L7QsdC+0LLQu9C10L3QuNGPINC60LDRgNGC0LjQvdC60LhcclxuY2FyZE9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICB2YWxpZGl0eUNhcmQuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIHBvcHVwV2l0aENhcmQub3BlbigpO1xyXG59KTtcclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl90ZXh0IiwiY2FyZG5hbWUiLCJfaW1hZ2UiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfcGhvdG9JbWFnZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfaGFuZGxlQmluQ2xpY2siLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUxpc3QiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1MaXN0IiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2lucHV0TGlzdCIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbml0aWFsQ2FyZHMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJjYXJkRWxlbWVudCIsInByZXBlbmQiLCJpdGVtcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZVBob3RvIiwiaW1hZ2VUZXh0IiwiX2ltYWdlUGhvdG8iLCJfaW1hZ2VUZXh0IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtQ2FyZCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsImFwaSIsInVzZXJuYW1lIiwiam9iIiwiYXZhdGFyIiwiX3VzZXJuYW1lIiwiX2pvYiIsIl9hdmF0YXIiLCJfaWRVc2VyIiwiYWJvdXQiLCJBcGkiLCJjb25maWciLCJfYmFzZVVybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwiX3VybCIsIm1ldGhvZCIsInByb2ZpbGVPcGVuQnV0dG9uIiwicHJvZmlsZUZvcm0iLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImNhcmRzUG9wdXAiLCJjYXJkT3BlbkJ1dHRvbiIsImZvcm1DYXJkIiwib2JqIiwiYmFzZVVybCIsImF1dGhvcml6YXRpb24iLCJnZXRVc2VySW5mbyIsInZhbGlkaXR5Rm9ybSIsInZhbGlkaXR5Q2FyZCIsImVuYWJsZVZhbGlkYXRpb24iLCJwb3B1cFdpdGhPcGVuSW1hZ2UiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjcmVhdGVDYXJkIiwiZ2VuZXJhdGVDYXJkIiwicmVuZGVyQ2FyZCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInBvcHVwV2l0aENhcmQiLCJ1c2VySW5mbyIsInBvcHVwV2l0aFByb2ZpbGUiLCJzZXRVc2VySW5mbyIsInByb2ZpbGVVc2VyUG9wdXAiXSwic291cmNlUm9vdCI6IiJ9