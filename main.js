(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._text=e.cardname,this._image=e.link,this._cardSelector=n,this._handleCardClick=r}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photo").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._photoImage=this._element.querySelector(".photo__image"),this._setEventListeners(),this._photoImage.src=this._image,this._photoImage.alt=this._text,this._element.querySelector(".photo__text").textContent=this._text,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".photo__vector").addEventListener("click",(function(t){e._handleLikeClick(t)})),this._element.querySelector(".photo__bin").addEventListener("click",(function(t){e._handleBinClick(t)})),this._photoImage.addEventListener("click",(function(){e._handleCardClick(e._text,e._image)}))}},{key:"_handleLikeClick",value:function(e){e.target.classList.toggle("photo__vector_active")}},{key:"_handleBinClick",value:function(){this._element.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formList=n,this._buttonElement=this._formList.querySelector(this._submitButtonSelector)}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e){var t=this._formList.querySelector("#".concat(e.id,"-error"));e.classList.add(this._errorClass),t.textContent=e.validationMessage,t.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._formList.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._errorClass),t.classList.remove(this._inputErrorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"enableValidation",value:function(){var e=this;this._inputList=Array.from(this._formList.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),o=[{cardname:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{cardname:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{cardname:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{cardname:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{cardname:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{cardname:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(){var e=this;o.forEach((function(t){e._renderer(t)}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_active")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_active")}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target===e._popup||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t,n=e.popupSelector,r=e.imagePhoto,o=e.imageText;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._imagePhoto=document.querySelector(r),t._imageText=document.querySelector(o),t}return t=a,(n=[{key:"open",value:function(e,t){this._imagePhoto.src=t,this._imagePhoto.alt=e,this._imageText.textContent=e,p(y(a.prototype),"open",this).call(this)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupFormCard=n._popup.querySelector(".form"),n._handleFormSubmit=r,n._inputList=Array.from(n._popupFormCard.querySelectorAll(".form__item")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;b(S(a.prototype),"setEventListeners",this).call(this),this._popupFormCard.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){b(S(a.prototype),"close",this).call(this),this._popupFormCard.reset()}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){var n=t.username,r=t.job,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._username=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o),this._idUser=id}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{username:this._username.textContent,job:this._job.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e,t){this._job.textContent=t,this._username.textContent=e}},{key:"setUserAvatar",value:function(e){this._avatar.src=e}},{key:"setUserDataInfo",value:function(e){this._job.textContent=e.about,this._username.textContent=e.name,this._avatar.src=e.avatar,this._idUser=e.id}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return fetch(this._url+"/users/me",{method:"GET",headers:this._headers})}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),P=document.querySelector(".popup-open"),x=document.querySelector(".form"),I=document.querySelector(".form__item_type_name"),q=document.querySelector(".form__item_type_job"),B=document.querySelector(".popup-cards"),T=document.querySelector(".add-open"),R=B.querySelector(".form-card"),U={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"form__item-error_active",errorClass:"form__item_type_error"};new L({baseUrl:"https://nomoreparties.co/v1/cohort-41",headers:{authorization:"cce2dc6d-fce0-4adb-80f6-8b8fce306754","content-type":"application/json"}}).getUserInfo();var F=new r(U,x),V=new r(U,R);F.enableValidation(),V.enableValidation();var D=new _({popupSelector:".popup-image",imagePhoto:".popup__photo",imageText:".popup__text"}),A=function(e,t){D.open(e,t)};D.setEventListeners();var z=function(e){return new t(e,".card-template",A).generateCard()},G=new a({data:o,renderer:function(e){var t=z(e);G.addItem(t)}},".cards__elements");G.renderItems();var M=new j(".popup-cards",{handleFormSubmit:function(e){G.addItem(z(e)),M.close()}}),N=new C({username:".profile__name",job:".profile__job",avatar:".profile__avatar",id:{}}),H=new j(".popup-form",{handleFormSubmit:function(e){N.setUserInfo(e),H.close()}});H.setEventListeners(),M.setEventListeners(),P.addEventListener("click",(function(){F.disableSubmitButton();var e=N.getUserInfo();I.value=e.username,q.value=e.job,H.open()})),T.addEventListener("click",(function(){V.disableSubmitButton(),M.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjLGNBQWUsQ0FDeERDLGlCQUFrQixTQUFDRyxHQUNqQmdELEVBQVNFLFlBQVlsRCxHQUNyQmlELEVBQWlCaEUsV0FJckJnRSxFQUFpQlIsb0JBQ2pCTSxFQUFjTixvQkFHZGhCLEVBQWtCbkcsaUJBQWlCLFNBQVMsV0FFMUM4RyxFQUFhM0Usc0JBRWIsSUFBTTBGLEVBQW1CSCxFQUFTYixjQUNsQ1IsRUFBVXhCLE1BQVFnRCxFQUFpQjNDLFNBRW5Db0IsRUFBU3pCLE1BQVFnRCxFQUFpQjFDLElBQ2xDd0MsRUFBaUJULFVBSW5CVixFQUFleEcsaUJBQWlCLFNBQVMsV0FDdkMrRyxFQUFhNUUsc0JBQ2JzRixFQUFjUCxXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vINC60LvQsNGB0YEg0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIC8v0LTQsNC90L3Ri9C1INC60LDRgNGC0L7Rh9C60Lgg0LggdGVtcGxhdGVcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xyXG4gICAgdGhpcy5fdGV4dCA9IGRhdGEuY2FyZG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IHBob3RvQ2FyZCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5waG90b1wiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBwaG90b0NhcmQ7XHJcbiAgfVxyXG4gIC8v0L/RgNC40YHQstCw0LXQstCw0LXQvCDQutC70LDRgdGB0Ysg0LfQvdCw0YfQtdC90LjRj9C8INC60LDRgNGC0L7Rh9C10LpcclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIC8vINCU0L7QsdC+0LLQu9GP0LXQvCDQtNCw0L3QvdGL0LVcclxuICAgIHRoaXMuX3Bob3RvSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9fX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3Bob3RvSW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgICB0aGlzLl9waG90b0ltYWdlLmFsdCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9fX3RleHRcIikudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gbGlrZVxyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5waG90b19fdmVjdG9yXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayhldnQpO1xyXG4gICAgICB9KTtcclxuICAgIC8vIGJpblxyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5waG90b19fYmluXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUJpbkNsaWNrKGV2dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgLy8g0L7RgtC60YDRi9GC0LjQtSDQutCw0YDRgtC40L3QutC4XHJcbiAgICB0aGlzLl9waG90b0ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl90ZXh0LCB0aGlzLl9pbWFnZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8gbGlrZVxyXG4gIF9oYW5kbGVMaWtlQ2xpY2soZXZ0KSB7XHJcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwaG90b19fdmVjdG9yX2FjdGl2ZVwiKTtcclxuICB9XHJcbiAgLy9iaW5cclxuICBfaGFuZGxlQmluQ2xpY2soKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGZvcm1MaXN0KSB7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBkYXRhLmZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBkYXRhLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gZGF0YS5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZGF0YS5lcnJvckNsYXNzO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgdGhpcy5fZm9ybUxpc3QgPSBmb3JtTGlzdDtcclxuICAgIC8vY29uc29sZS5sb2cgKGZvcm1MaXN0KVxyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1MaXN0LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy/Qv9C+0LrQsNC30YvQstCw0LXRgiDRjdC70LXQvNC10L3RgiDQvtGI0LjQsdC60LhcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtTGlzdC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhlcnJvckVsZW1lbnQpXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyDRgdC60YDRi9Cy0LDQtdGCINGN0LvQtdC80LXQvdGCINC+0YjQuNCx0LrQuFxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1MaXN0LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIC8vY29uc29sZS5sb2coZXJyb3JFbGVtZW50KTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICAvLyDQv9GA0L7QstC10YDQutCwINC40L3Qv9GD0YLQvtCyINC00LvRjyDQutC90L7Qv9C60LhcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINCx0LvQvtC60LjRgNC+0LLQutC4INC60L3QvtC/0LrQuFxyXG4gIGRpc2FibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcblxyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX2J1dHRvbkVsZW1lbnQpXHJcbiAgfVxyXG5cclxuICBfZW5hYmxlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNGPINC60L3QvtC/0LrQuFxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAvLyDQldGB0LvQuCDQtdGB0YLRjCDRhdC+0YLRjyDQsdGLINC+0LTQuNC9INC90LXQstCw0LvQuNC00L3Ri9C5INC40L3Qv9GD0YJcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICAvLyDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINC90LXQsNC60YLQuNCy0L3QvtC5XHJcbiAgICAgIHRoaXMuZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g0LjQvdCw0YfQtSDRgdC00LXQu9Cw0Lkg0LrQvdC+0L/QutGDINCw0LrRgtC40LLQvdC+0LlcclxuICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDQv9GA0L7QstC10YDQutCwINC90LAg0LLQsNC70LjQtNC90L7RgdGC0Ywg0L/QvtC70LXQuVxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAvL2NvbnNvbGUubG9nKGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSlcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9C10YDQtdCx0L7RgNCwINCy0YHQtdGFIGlucHV0cyDRhNC+0YDQvFxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtTGlzdC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9pbnB1dExpc3QpXHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IHsgaW5pdGlhbENhcmRzIGFzIGl0ZW1zIH07XHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBjYXJkbmFtZTogXCLQkNGA0YXRi9C3XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBjYXJkbmFtZTogXCLQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBjYXJkbmFtZTogXCLQmNCy0LDQvdC+0LLQvlwiLFxyXG4gICAgbGluazogXCJodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIGNhcmRuYW1lOiBcItCa0LDQvNGH0LDRgtC60LBcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIGNhcmRuYW1lOiBcItCl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBjYXJkbmFtZTogXCLQkdCw0LnQutCw0LtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGdcIixcclxuICB9LFxyXG5dO1xyXG4iLCJpbXBvcnQgeyBpdGVtcyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVySXRlbXMgPSBkYXRhO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gICAgLy9jb25zb2xlLmxvZyhkYXRhKVxyXG4gIH1cclxuXHJcbiAgLy8g0LTQvtCx0LDQstC70LXQvdC90LDRjyDQutCw0YDRgtC+0YfQutCwINC+0YLRgNC40YHQvtCy0YvQstCw0LXRgtGB0Y8g0LIg0L3QsNGH0LDQu9C1XHJcbiAgYWRkSXRlbShjYXJkRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgLy8g0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INC4INC10ZEg0YDQtdC90LTQtdGAXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvL9GE0YPQvdC60YbQuNGPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/LdCw0L/QvtCyXHJcbiAgb3BlbigpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9hY3RpdmVcIik7IC8v0YTRg9C90LrRhtC40Y8g0LTQu9GPINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/LdCw0L/QsFxyXG4gIH1cclxuICAvL9GE0YPQvdC60YbQuNGPINC30LDQutGA0YvRgtC40Y8g0L/QvtC/LdCw0L/QvtCyXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfYWN0aXZlXCIpOyAvL9GE0YPQvdC60YbQuNGPINC00LvRjyDQt9Cw0LrRgNGL0YLQuNGPXHJcbiAgfVxyXG5cclxuICAvL9C30LDQutGA0YvRgtC40LUg0L/QvtC/LdCw0L/QsCDQvdCwIGVzY3VwXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8v0YHQu9GD0YjQsNGC0LXQu9GMINC00LvRjyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qvy3QsNC/0LAg0L3QsCBvdmVybGF5INC4INC60YDQtdGB0YLQuNC6XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fcG9wdXAgfHxcclxuICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG4vL9C/0L7Qvy3Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaW1hZ2VQaG90bywgaW1hZ2VUZXh0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VQaG90byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW1hZ2VQaG90byk7XHJcbiAgICB0aGlzLl9pbWFnZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGltYWdlVGV4dCk7XHJcbiAgfVxyXG4gIC8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/LdCw0L/QsFxyXG4gIG9wZW4oY2FyZG5hbWUsIGxpbmspIHtcclxuICAgIHRoaXMuX2ltYWdlUGhvdG8uc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlUGhvdG8uYWx0ID0gY2FyZG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZVRleHQudGV4dENvbnRlbnQgPSBjYXJkbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHsgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybUNhcmQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICB0aGlzLl9wb3B1cEZvcm1DYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faXRlbVwiKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybUNhcmQucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgdXNlcm5hbWUsIGpvYiwgYXZhdGFyLCB9KSB7XHJcbiAgICB0aGlzLl91c2VybmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlcm5hbWUpO1xyXG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXIpO1xyXG4gICAgdGhpcy5faWRVc2VyID0gaWQ7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IGlucHV0VXNlckluZm8gPSB7XHJcbiAgICAgIHVzZXJuYW1lOiB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLnNyY1xyXG4gICAgfTtcclxuICAgIHJldHVybiBpbnB1dFVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odXNlcm5hbWUsIGpvYikge1xyXG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gam9iLFxyXG4gICAgdGhpcy5fdXNlcm5hbWUudGV4dENvbnRlbnQgPSB1c2VybmFtZTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckRhdGFJbmZvKGRhdGEpIHtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQsXHJcbiAgICB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZSxcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICAgIHRoaXMuX2lkVXNlciA9IGRhdGEuaWQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxudGhpcy5fYmFzZVVybCA9IGNvbmZpZy51cmw7XHJcbnRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsICsgJy91c2Vycy9tZScsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBpdGVtcyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIlxyXG5cclxuY29uc3QgcHJvZmlsZU9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLW9wZW5cIik7IC8v0LrQvdC+0L/QutCwINC+0YLQutGA0YvRgtC40Y8g0L/QvtC/LdCw0L/QsFxyXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTsgLy/QktC+0YHQv9C+0LvRjNC30YPQudGC0LXRgdGMINC80LXRgtC+0LTQvtC8IHF1ZXJ5U2VsZWN0b3IoKVxyXG4vLyDQndCw0YXQvtC00LjQvCDQv9C+0LvRjyDRhNC+0YDQvNGLINCyIERPTVxyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2l0ZW1fdHlwZV9uYW1lXCIpOyAvLyDQktC+0YHQv9C+0LvRjNC30YPQudGC0LXRgdGMINC40L3RgdGC0YDRg9C80LXQvdGC0L7QvCAucXVlcnlTZWxlY3RvcigpXHJcbmNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pdGVtX3R5cGVfam9iXCIpOyAvLyDQktC+0YHQv9C+0LvRjNC30YPQudGC0LXRgdGMINC40L3RgdGC0YDRg9C80LXQvdGC0L7QvCAucXVlcnlTZWxlY3RvcigpXHJcblxyXG5jb25zdCBjYXJkc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1jYXJkc1wiKTsgLy/Qv9C+0L8t0L/QsNC/INGE0L7RgNC80Ysg0YEg0LrQsNGA0YLQuNC90LrQsNC80LhcclxuY29uc3QgY2FyZE9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1vcGVuXCIpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINGE0L7RgNC80Ysg0L/QvtC/LdCw0L/QsCDRgSDQutCw0YDRgtC40L3QutCw0LzQuFxyXG5cclxuLy9jb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2VsZW1lbnRzXCIpOyAvLyDRgdC/0LjRgdC+0Log0LrQvtC90YLQtdC50L3QtdGAXHJcbmNvbnN0IGZvcm1DYXJkID0gY2FyZHNQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tY2FyZFwiKTsgLy/QtNC70Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4INC60LDRgNGC0LjQvdC60LhcclxuXHJcbmNvbnN0IG9iaiA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pdGVtXCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZV9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pdGVtLWVycm9yX2FjdGl2ZVwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faXRlbV90eXBlX2Vycm9yXCIsXHJcbn07XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpICh7YmFzZVVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEnLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdjY2UyZGM2ZC1mY2UwLTRhZGItODBmNi04YjhmY2UzMDY3NTQnLFxyXG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICB9XHJcbn0pO1xyXG5cclxuYXBpLmdldFVzZXJJbmZvKClcclxuXHJcbi8v0LLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC8XHJcbmNvbnN0IHZhbGlkaXR5Rm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKG9iaiwgcHJvZmlsZUZvcm0pO1xyXG5jb25zdCB2YWxpZGl0eUNhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcihvYmosIGZvcm1DYXJkKTtcclxuXHJcbnZhbGlkaXR5Rm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbnZhbGlkaXR5Q2FyZC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL9C/0L7Qvy3Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5LCDQv9GA0LjRgdCy0L7QtdC90LjQtSDQt9C90LDRh9C10L3QuNC5ICjRjdGC0L4g0L3QtSDQstC+0LvRiNC10LHRgdGC0LLQvilcclxuY29uc3QgcG9wdXBXaXRoT3BlbkltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cC1pbWFnZVwiLFxyXG4gIGltYWdlUGhvdG86IFwiLnBvcHVwX19waG90b1wiLFxyXG4gIGltYWdlVGV4dDogXCIucG9wdXBfX3RleHRcIixcclxufSk7XHJcbi8vINGE0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qvy3Qv9Cw0L/QsCDQutCw0YDRgtC40L3QutC4XHJcbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChjYXJkbmFtZSwgbGluaykgPT4ge1xyXG4gIHBvcHVwV2l0aE9wZW5JbWFnZS5vcGVuKGNhcmRuYW1lLCBsaW5rKTtcclxufTtcclxucG9wdXBXaXRoT3BlbkltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL9GB0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDQuCDRgtC10LzQv9C70LXQudGC0LAg0Lgg0YTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQutCw0YDRgtC40L3QutC4XHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCBcIi5jYXJkLXRlbXBsYXRlXCIsIGhhbmRsZUNhcmRDbGljayk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuLy8g0LzQsNGB0YHQuNCyINGBINC60LDRgNGC0L7Rh9C60LDQvNC4INCy0YHRgtCw0LLQu9GP0LXQvCDQsiDQv9GA0L7QtdC60YJcclxuY29uc3QgcmVuZGVyQ2FyZCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIGRhdGE6IGl0ZW1zLFxyXG4gICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChkYXRhKTtcclxuICAgICAgcmVuZGVyQ2FyZC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5jYXJkc19fZWxlbWVudHNcIlxyXG4pO1xyXG5cclxucmVuZGVyQ2FyZC5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy8g0L/QvtC/LdC/0LDQvyDRgSDQutCw0YDRgtC40L3QutC+0LlcclxuY29uc3QgcG9wdXBXaXRoQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwLWNhcmRzXCIsIHtcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgcmVuZGVyQ2FyZC5hZGRJdGVtKGNyZWF0ZUNhcmQoZGF0YSkpO1xyXG4gICAgcG9wdXBXaXRoQ2FyZC5jbG9zZSgpO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgaWRVc2VyID0ge31cclxuLy8g0L/QvtC/LdC/0LDQvyDQv9GA0L7RhNC40LvRjFxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgdXNlcm5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBqb2I6IFwiLnByb2ZpbGVfX2pvYlwiLFxyXG4gIGF2YXRhcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbiAgaWQ6IGlkVXNlclxyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cC1mb3JtXCIsIHtcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGlucHV0VmFsdWVzKTtcclxuICAgIHBvcHVwV2l0aFByb2ZpbGUuY2xvc2UoKTtcclxuICB9LFxyXG59KTtcclxuXHJcbnBvcHVwV2l0aFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBXaXRoQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/QodC+0YXRgNCw0L3QtdC90LjQtSDQtNCw0L3QvdGL0YUg0LTQu9GPINC/0L7Qvy3QsNC/0LAg0YTQvtGA0LzRiyDQv9GA0L7RhNC40LvRjFxyXG5wcm9maWxlT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIC8vXHJcbiAgdmFsaWRpdHlGb3JtLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuXHJcbiAgY29uc3QgcHJvZmlsZVVzZXJQb3B1cCA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZVVzZXJQb3B1cC51c2VybmFtZTsgLy/Qt9Cw0L/QuNGB0YvQstCw0LXQvCDQtNCw0L3QvdGL0LUg0LIg0LjQvdC/0YPRgiDQuNC3INC/0YDQvtGE0LDQudC70LBcclxuXHJcbiAgam9iSW5wdXQudmFsdWUgPSBwcm9maWxlVXNlclBvcHVwLmpvYjtcclxuICBwb3B1cFdpdGhQcm9maWxlLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qvy3QsNC/0LAg0LTQvtCx0L7QstC70LXQvdC40Y8g0LrQsNGA0YLQuNC90LrQuFxyXG5jYXJkT3BlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gIHZhbGlkaXR5Q2FyZC5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgcG9wdXBXaXRoQ2FyZC5vcGVuKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aGlzIiwiX3RleHQiLCJjYXJkbmFtZSIsIl9pbWFnZSIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9waG90b0ltYWdlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVCaW5DbGljayIsInRhcmdldCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtTGlzdCIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUxpc3QiLCJfYnV0dG9uRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaW5wdXRMaXN0Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJkaXNhYmxlZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlU3VibWl0QnV0dG9uIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImluaXRpYWxDYXJkcyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlckl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsImltYWdlUGhvdG8iLCJpbWFnZVRleHQiLCJfaW1hZ2VQaG90byIsIl9pbWFnZVRleHQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm1DYXJkIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwibmFtZSIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwidXNlcm5hbWUiLCJqb2IiLCJhdmF0YXIiLCJfdXNlcm5hbWUiLCJfam9iIiwiX2F2YXRhciIsIl9pZFVzZXIiLCJhYm91dCIsIkFwaSIsImNvbmZpZyIsIl9iYXNlVXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZmV0Y2giLCJfdXJsIiwibWV0aG9kIiwicHJvZmlsZU9wZW5CdXR0b24iLCJwcm9maWxlRm9ybSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiY2FyZHNQb3B1cCIsImNhcmRPcGVuQnV0dG9uIiwiZm9ybUNhcmQiLCJvYmoiLCJiYXNlVXJsIiwiYXV0aG9yaXphdGlvbiIsImdldFVzZXJJbmZvIiwidmFsaWRpdHlGb3JtIiwidmFsaWRpdHlDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwV2l0aE9wZW5JbWFnZSIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsImNyZWF0ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJyZW5kZXJDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwicG9wdXBXaXRoQ2FyZCIsInVzZXJJbmZvIiwicG9wdXBXaXRoUHJvZmlsZSIsInNldFVzZXJJbmZvIiwicHJvZmlsZVVzZXJQb3B1cCJdLCJzb3VyY2VSb290IjoiIn0=