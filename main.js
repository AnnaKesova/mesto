(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,n(e,t,"get"))}function n(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var r=new WeakMap,o=function(){function o(e,i,a){var u,c,s=this,l=i.data,f=i.handleCardClick,p=i.handleBinClick,h=i.handleLikeClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}(this,r,{writable:!0,value:void 0}),this._text=l.name,this._image=l.link,this._id=l.id,this._likes=l.likes,this._ownerID=l.ownerID,this._cardSelector=a,this._handleCardClick=f,c=e,function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(u=this,n(u,r,"set"),c),this._handleBinClick=p,this._handleLikeClick=h,this._likesUser=this._likes.some((function(e){return e._id===t(s,r)})),this._likeCounter=l.likeCounter}var i,a;return i=o,(a=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photo").cloneNode(!0)}},{key:"getId",value:function(){return this._id}},{key:"isLiked",value:function(){return this._likesUser}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._photoImage=this._element.querySelector(".photo__image"),this._photoImage.src=this._image,this._photoImage.alt=this._text,this._element.querySelector(".photo__text").textContent=this._text,this._binElement=this._element.querySelector(".photo__bin"),this._ownerID===t(this,r)&&this._binElement.classList.add("photo__bin_active"),this._elementLikeButton=this._element.querySelector(".photo__vector"),this._elementLikeCounter=this._element.querySelector(".photo__numlike"),this._elementLikeCounter.textContent=this._likeCounter,this._setEventListeners(),this._element}},{key:"toggleLikesState",value:function(e){this._elementLikeCounter.textContent=e.likes.length,this._likesUser=!this._likesUser,this.isLiked()?this._elementLikeButton.classList.add("photo__vector_active"):this._elementLikeButton.classList.remove("photo__vector_active")}},{key:"handleDeleteBinClick",value:function(){this._element.remove(),this._element=null}},{key:"_setEventListeners",value:function(){var e=this;this._elementLikeButton.addEventListener("click",(function(){e._handleLikeClick()})),this._element.querySelector(".photo__bin").addEventListener("click",(function(){e._handleBinClick()})),this._photoImage.addEventListener("click",(function(){e._handleCardClick(e._text,e._image)}))}}])&&e(i.prototype,a),Object.defineProperty(i,"prototype",{writable:!1}),o}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formList=n,this._buttonElement=this._formList.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._formList.querySelector("#".concat(e.id,"-error"));e.classList.add(this._errorClass),t.textContent=e.validationMessage,t.classList.add(this._inputErrorClass)}},{key:"_hideInputError",value:function(e){var t=this._formList.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._errorClass),t.classList.remove(this._inputErrorClass),t.textContent=""}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"disableSubmitButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableSubmitButton",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableSubmitButton():this._enableSubmitButton()}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"enableValidation",value:function(){var e=this;this._inputList=Array.from(this._formList.querySelectorAll(this._inputSelector)),this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_active")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_active")}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target===e._popup||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(e){var t,n=e.popupSelector,r=e.imagePhoto,o=e.imageText;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._imagePhoto=document.querySelector(r),t._imageText=document.querySelector(o),t}return t=a,(n=[{key:"open",value:function(e,t){this._imagePhoto.src=t,this._imagePhoto.alt=e,this._imageText.textContent=e,h(_(a.prototype),"open",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function C(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupFormCard=n._popup.querySelector(".form"),n._handleFormSubmit=t,n._inputList=Array.from(n._popupFormCard.querySelectorAll(".form__item")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){var e=this;g(E(a.prototype),"setEventListeners",this).call(this),this._popupFormCard.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"close",value:function(){g(E(a.prototype),"close",this).call(this),this._popupFormCard.reset()}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){var n=t.username,r=t.job,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._username=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{username:this._username.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e){var t=e.username,n=e.job,r=e.avatar;this._job.textContent=n,this._username.textContent=t,this._avatar.src=r}},{key:"getUserId",value:function(){return this._userID}},{key:"setUserId",value:function(e){this._userID=e}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_handlePromiseErr",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfoFromApi",value:function(){var e=this;return fetch(this._baseUrl+"/users/me",{method:"GET",headers:this._headers}).then((function(t){return e._handlePromiseErr(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch(this._baseUrl+"/cards",{method:"GET",headers:this._headers}).then((function(t){return e._handlePromiseErr(t)}))}},{key:"addUserInfo",value:function(e){var t=this;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._handlePromiseErr(e)}))}},{key:"addNewCard",value:function(e){var t=this;return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._handlePromiseErr(e)}))}},{key:"addUserAvatar",value:function(e){var t=this;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._handlePromiseErr(e)}))}},{key:"deleteNewCard",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/".concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._handlePromiseErr(e)}))}},{key:"putLikeCard",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/".concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return t._handlePromiseErr(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch(this._baseUrl+"/cards/".concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return t._handlePromiseErr(e)}))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},U.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function R(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=D(r);if(o){var n=D(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return R(this,e)});function a(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleFormSubmit=r,t._formConfirm=t._popup.querySelector(".form-confirm"),t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;U(D(a.prototype),"setEventListeners",this).call(this),this._formConfirm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit()}))}},{key:"confirmDeleteMyCard",value:function(e){this._handleFormSubmit=e}}])&&T(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=document.querySelector(".popup-open"),V=document.querySelector(".form-profile"),M=document.querySelector(".form__item_type_name"),J=document.querySelector(".form__item_type_job"),z=document.querySelector(".popup-cards"),G=document.querySelector(".add-open"),H=z.querySelector(".form-card"),W=document.querySelector(".profile__edit-photo"),$=document.querySelector(".popup-avatar"),K={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"form__item-error_active",errorClass:"form__item_type_error"},Q=new I({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-41/",headers:{authorization:"cce2dc6d-fce0-4adb-80f6-8b8fce306754","content-type":"application/json"}}),X=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.querySelector(".".concat(e," .popup__save"));n.textContent=t?"Загрузка...":"Сохранить"},Y=new a(K,V),Z=new a(K,H),ee=new a(K,$);Y.enableValidation(),Z.enableValidation(),ee.enableValidation();var te=new v({popupSelector:".popup-image",imagePhoto:".popup__photo",imageText:".popup__text"}),ne=function(e,t){te.open(e,t)};te.setEventListeners();var re=new A({popupSelector:".confirm-popup"}),oe=function(e){var t=new o(ce.getUserId(),{data:e,handleCardClick:ne,handleBinClick:function(){re.open(),re.confirmDeleteMyCard((function(){Q.deleteNewCard(t.getId()).then((function(){t.handleDeleteBinClick(),re.close()})).catch((function(e){console.log(e)}))}))},handleLikeClick:function(){t.isLiked()?Q.deleteLike(t.getId()).then((function(e){t.toggleLikesState(e)})).catch((function(e){return console.log(e)})):Q.putLikeCard(t.getId()).then((function(e){t.toggleLikesState(e)})).catch((function(e){return console.log(e)}))}},".card-template");return t.generateCard()},ie=new c((function(e){var t=oe(e);ie.addItem(t)}),".cards__elements"),ae=Q.getInitialCards().then((function(e){return e.map((function(e){return{name:e.name,link:e.link,id:e._id,ownerID:e.owner._id,likes:e.likes,likeCounter:e.likes.length}}))})).catch((function(e){console.log(e)}));G.addEventListener("click",(function(){Z.disableSubmitButton(),ue.open()}));var ue=new j(".popup-cards",(function(e){var t=e.link,n=e.name;X("popup-cards",!0),Q.addNewCard({name:n,link:t}).then((function(e){ie.addItem(oe({link:e.link,name:e.name,id:e._id,ownerID:e.owner._id,likeCounter:e.likes.length,likes:e.likes})),ue.close()})).catch((function(e){console.log(e)})).finally((function(){X("popup-cards",!1)}))})),ce=new L({username:".profile__name",job:".profile__job",avatar:".profile__avatar"}),se=Q.getUserInfoFromApi().then((function(e){return e})).catch((function(e){return console.log(e)}));N.addEventListener("click",(function(){Y.disableSubmitButton();var e=ce.getUserInfo();M.value=e.username,J.value=e.job,le.open()}));var le=new j(".popup-form",(function(e){var t=e.username,n=e.job;X("popup-form",!0),Q.addUserInfo({name:t,about:n}).then((function(e){ce.setUserInfo({username:e.name,job:e.about,avatar:e.avatar}),le.close()})).catch((function(e){console.log(e)})).finally((function(){X("popup-form",!1)}))}));Promise.all([ae,se]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ce.setUserId(i._id),ie.renderItems(o),ce.setUserInfo({username:i.name,job:i.about,avatar:i.avatar})})).catch((function(e){console.log(e)}));var fe=new j(".popup-avatar",(function(e){var t=e.avatar;X("popup-avatar",!0),Q.addUserAvatar({avatar:t}).then((function(e){ce.setUserInfo({username:e.name,job:e.about,avatar:e.avatar}),fe.close()})).catch((function(e){console.log(e)})).finally((function(){X("popup-avatar",!1)}))}));W.addEventListener("click",(function(){ee.disableSubmitButton(),fe.open()})),re.setEventListeners(),le.setEventListeners(),ue.setEventListeners(),fe.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FHbEJxRixPQUFNLFNBQUNDLEdBQ05DLFFBQVFDLElBQUlGLE1BRWJnQixTQUFRLFdBQ1ByQyxFQUFjLGNBQWMsU0FJbEN6QixRQUFRdUUsSUFBSSxDQUFDaEIsR0FBY1EsS0FDeEIxRCxNQUFLLFlBQWlDLEksSUFBQSxHLEVBQUEsRSw0Q0FBQSxJLGd4QkFBL0JtRSxFQUErQixLQUFwQlQsRUFBb0IsS0FDckN4QixHQUFTa0MsVUFBVVYsRUFBZXhMLEtBQ2xDOEssR0FBV3FCLFlBQVlGLEdBQ3ZCakMsR0FBUytCLFlBQVksQ0FDbkJ0RixTQUFVK0UsRUFBZTNMLEtBQ3pCNkcsSUFBSzhFLEVBQWVNLE1BQ3BCbkYsT0FBUTZFLEVBQWU3RSxZQUkxQjJELE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFJaEIsSUFBTTZCLEdBQWMsSUFBSXRHLEVBQWMsaUJBT3RDLFlBQTRDLElBQVZhLEVBQVUsRUFBVkEsT0FDaEN1QyxFQUFjLGdCQUFnQixHQUM5QkYsRUFDR3FELGNBQWMsQ0FBRTFGLE9BQUFBLElBQ2hCbUIsTUFBSyxTQUFDdkksR0FDTHlLLEdBQVMrQixZQUFZLENBQ25CdEYsU0FBVWxILEVBQUtNLEtBQ2Y2RyxJQUFLbkgsRUFBS3VNLE1BQ1ZuRixPQUFRcEgsRUFBS29ILFNBRWZ5RixHQUFZbkgsV0FFYnFGLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFFYmdCLFNBQVEsV0FDUHJDLEVBQWMsZ0JBQWdCLFNBckJwQ0wsRUFBYTNHLGlCQUFpQixTQUFTLFdBQ3JDc0gsR0FBZTdGLHNCQUNmeUksR0FBWXpDLFVBd0JkRSxHQUFhRCxvQkFDYmdDLEdBQWlCaEMsb0JBQ2pCeUIsR0FBY3pCLG9CQUNkd0MsR0FBWXhDLHFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vINC60LvQsNGB0YEg0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIC8v0LTQsNC90L3Ri9C1INC60LDRgNGC0L7Rh9C60Lgg0LggdGVtcGxhdGVcclxuICAjX3VzZXJJRDtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHVzZXJJRCxcclxuICAgIHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVCaW5DbGljaywgaGFuZGxlTGlrZUNsaWNrIH0sXHJcbiAgICBjYXJkU2VsZWN0b3JcclxuICApIHtcclxuICAgIHRoaXMuX3RleHQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2lkID0gZGF0YS5pZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX293bmVySUQgPSBkYXRhLm93bmVySUQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLiNfdXNlcklEID0gdXNlcklEO1xyXG4gICAgdGhpcy5faGFuZGxlQmluQ2xpY2sgPSBoYW5kbGVCaW5DbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcclxuICAgIHRoaXMuX2xpa2VzVXNlciA9IHRoaXMuX2xpa2VzLnNvbWUoKGl0ZW0pID0+IGl0ZW0uX2lkID09PSB0aGlzLiNfdXNlcklEKTtcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gZGF0YS5saWtlQ291bnRlcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IHBob3RvQ2FyZCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5waG90b1wiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBwaG90b0NhcmQ7XHJcbiAgfVxyXG5cclxuICBnZXRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXNVc2VyO1xyXG4gIH1cclxuXHJcbiAgLy/Qv9GA0LjRgdCy0LDQtdCy0LDQtdC8INC60LvQsNGB0YHRiyDQt9C90LDRh9C10L3QuNGP0Lwg0LrQsNGA0YLQvtGH0LXQulxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgLy8g0JTQvtCx0L7QstC70Y/QtdC8INC00LDQvdC90YvQtVxyXG4gICAgdGhpcy5fcGhvdG9JbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b19faW1hZ2VcIik7XHJcblxyXG4gICAgdGhpcy5fcGhvdG9JbWFnZS5zcmMgPSB0aGlzLl9pbWFnZTtcclxuICAgIHRoaXMuX3Bob3RvSW1hZ2UuYWx0ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b19fdGV4dFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RleHQ7XHJcbiAgICAvLyBiaW5cclxuICAgIHRoaXMuX2JpbkVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9fX2JpblwiKTtcclxuICAgIGlmICh0aGlzLl9vd25lcklEID09PSB0aGlzLiNfdXNlcklEKSB7XHJcbiAgICAgIHRoaXMuX2JpbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBob3RvX19iaW5fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgLy8gbGlrZVxyXG4gICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGhvdG9fX3ZlY3RvclwiKTtcclxuICAgIHRoaXMuX2VsZW1lbnRMaWtlQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b19fbnVtbGlrZVwiKTtcclxuICAgIHRoaXMuX2VsZW1lbnRMaWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VDb3VudGVyO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vIGxpa2Ug0LTQvtCx0LDQstC70LXQvdC40LUg0LjQu9C4INGD0LTQsNC70LXQvdC40LVcclxuICB0b2dnbGVMaWtlc1N0YXRlKGRhdGEpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRMaWtlQ291bnRlci50ZXh0Q29udGVudCA9IGRhdGEubGlrZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5fbGlrZXNVc2VyID0gIXRoaXMuX2xpa2VzVXNlcjtcclxuXHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcInBob3RvX192ZWN0b3JfYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWxlbWVudExpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcInBob3RvX192ZWN0b3JfYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9iaW5cclxuICBoYW5kbGVEZWxldGVCaW5DbGljaygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIGxpa2VcclxuICAgIHRoaXMuX2VsZW1lbnRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBiaW5cclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG90b19fYmluXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUJpbkNsaWNrKCk7XHJcbiAgICB9KTtcclxuICAgIC8vINC+0YLQutGA0YvRgtC40LUg0LrQsNGA0YLQuNC90LrQuFxyXG4gICAgdGhpcy5fcGhvdG9JbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fdGV4dCwgdGhpcy5faW1hZ2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIlxyXG5leHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgZm9ybUxpc3QpIHtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGRhdGEuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGRhdGEuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gZGF0YS5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBkYXRhLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBkYXRhLmVycm9yQ2xhc3M7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICB0aGlzLl9mb3JtTGlzdCA9IGZvcm1MaXN0O1xyXG4gICAgLy9jb25zb2xlLmxvZyAoZm9ybUxpc3QpXHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUxpc3QucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvL9C/0L7QutCw0LfRi9Cy0LDQtdGCINGN0LvQtdC80LXQvdGCINC+0YjQuNCx0LrQuFxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1MaXN0LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGVycm9yRWxlbWVudClcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIC8vINGB0LrRgNGL0LLQsNC10YIg0Y3Qu9C10LzQtdC90YIg0L7RiNC40LHQutC4XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUxpc3QucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgLy9jb25zb2xlLmxvZyhlcnJvckVsZW1lbnQpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0LjQvdC/0YPRgtC+0LIg0LTQu9GPINC60L3QvtC/0LrQuFxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0LHQu9C+0LrQuNGA0L7QstC60Lgg0LrQvdC+0L/QutC4XHJcbiAgZGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuXHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5fYnV0dG9uRWxlbWVudClcclxuICB9XHJcblxyXG4gIF9lbmFibGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyDRhNGD0L3QutGG0LjRjyDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0LrQvdC+0L/QutC4XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIC8vINCV0YHQu9C4INC10YHRgtGMINGF0L7RgtGPINCx0Ysg0L7QtNC40L0g0L3QtdCy0LDQu9C40LTQvdGL0Lkg0LjQvdC/0YPRglxyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIC8vINGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0L3QtdCw0LrRgtC40LLQvdC+0LlcclxuICAgICAgdGhpcy5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDQuNC90LDRh9C1INGB0LTQtdC70LDQuSDQutC90L7Qv9C60YMg0LDQutGC0LjQstC90L7QuVxyXG4gICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjCDQv9C+0LvQtdC5XHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIC8vY29uc29sZS5sb2coaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKVxyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vINGE0YPQvdC60YbQuNGPINC/0LXRgNC10LHQvtGA0LAg0LLRgdC10YUgaW5wdXRzINGE0L7RgNC8XHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1MaXN0LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX2lucHV0TGlzdClcclxuXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciggcmVuZGVyZXIgLCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAvLyB0aGlzLl9yZW5kZXJJdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgICAvL2NvbnNvbGUubG9nKGRhdGEpXHJcbiAgfVxyXG5cclxuICAvLyDQtNC+0LHQsNCy0LvQtdC90L3QsNGPINC60LDRgNGC0L7Rh9C60LAg0L7RgtGA0LjRgdC+0LLRi9Cy0LDQtdGC0YHRjyDQsiDQvdCw0YfQsNC70LVcclxuICBhZGRJdGVtKGNhcmRFbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICAvLyDRgdC+0LfQtNCw0L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0Lgg0LXRkSDRgNC10L3QtNC10YBcclxuIC8qIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5fcmVuZGVySXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9Ki9cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy/RhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qvy3QsNC/0L7QslxyXG4gIG9wZW4oKSB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfYWN0aXZlXCIpOyAvL9GE0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qvy3QsNC/0LBcclxuICB9XHJcbiAgLy/RhNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qvy3QsNC/0L7QslxyXG4gIGNsb3NlKCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX2FjdGl2ZVwiKTsgLy/RhNGD0L3QutGG0LjRjyDQtNC70Y8g0LfQsNC60YDRi9GC0LjRj1xyXG4gIH1cclxuXHJcbiAgLy/Qt9Cw0LrRgNGL0YLQuNC1INC/0L7Qvy3QsNC/0LAg0L3QsCBlc2N1cFxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvL9GB0LvRg9GI0LDRgtC10LvRjCDQtNC70Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+0L8t0LDQv9CwINC90LAgb3ZlcmxheSDQuCDQutGA0LXRgdGC0LjQulxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBldmVudC50YXJnZXQgPT09IHRoaXMuX3BvcHVwIHx8XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZVwiKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuLy/Qv9C+0L8t0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGltYWdlUGhvdG8sIGltYWdlVGV4dCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGltYWdlUGhvdG8pO1xyXG4gICAgdGhpcy5faW1hZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbWFnZVRleHQpO1xyXG4gIH1cclxuICAvLyDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qvy3QsNC/0LBcclxuICBvcGVuKGNhcmRuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9pbWFnZVBob3RvLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9pbWFnZVBob3RvLmFsdCA9IGNhcmRuYW1lO1xyXG4gICAgdGhpcy5faW1hZ2VUZXh0LnRleHRDb250ZW50ID0gY2FyZG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0ICkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm1DYXJkID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgdGhpcy5fcG9wdXBGb3JtQ2FyZC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2l0ZW1cIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgLy8gY29uc29sZS5sb2coaW5wdXRWYWx1ZXMpXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm1DYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9oYW5kbGVGb3JtU3VibWl0KVxyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtQ2FyZC5yZXNldCgpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgdXNlcm5hbWUsIGpvYiwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX3VzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VybmFtZSk7XHJcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYik7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhcik7XHJcbiAgICAvL3RoaXMuX2FwaSA9IGFwaTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgaW5wdXRVc2VySW5mbyA9IHtcclxuICAgICAgdXNlcm5hbWU6IHRoaXMuX3VzZXJuYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgICByZXR1cm4gaW5wdXRVc2VySW5mbztcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgdXNlcm5hbWUsIGpvYiwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGpvYiwgXHJcbiAgICB0aGlzLl91c2VybmFtZS50ZXh0Q29udGVudCA9IHVzZXJuYW1lO1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl91c2VySUQ7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySWQoaWQpIHtcclxuICAgIHRoaXMuX3VzZXJJRCA9IGlkO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gICAgLy9jb25zb2xlLmxvZyhjb25maWcuYmFzZVVybCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUHJvbWlzZUVycihyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgLy8g0L/QvtC70YPRh9C10L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cclxuICBnZXRVc2VySW5mb0Zyb21BcGkoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVQcm9taXNlRXJyKHJlcykpO1xyXG5cclxuICAgIC8qLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gIH0pOyovXHJcbiAgfVxyXG4gIC8vINC/0L7Qu9GD0YfQtdC90LjQtSDQutCw0YDRgtC40L3QvtC6XHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlUHJvbWlzZUVycihyZXMpKTtcclxuICB9XHJcblxyXG4gIC8v0LTQvtCx0LDQstC40YLRjCDQvdC+0LLQvtCz0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgYWRkVXNlckluZm8oZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlUHJvbWlzZUVycihyZXMpKTtcclxuICB9XHJcblxyXG4gIC8v0JTQvtCx0LDQstC40YLRjCDQvdC+0LLRg9GOINC60LDRgNGC0LjQvdC60YMuXHJcbiAgYWRkTmV3Q2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2hhbmRsZVByb21pc2VFcnIocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvL9C00L7QsdCw0LLQuNGC0Ywg0L3QvtCy0L7Qs9C+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG4gIGFkZFVzZXJBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShhdmF0YXIpLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVQcm9taXNlRXJyKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgLy/Qo9C00LDQu9C40YLRjCDQvdC+0LLRg9GOINC60LDRgNGC0LjQvdC60YMuXHJcbiAgZGVsZXRlTmV3Q2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBgL2NhcmRzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2hhbmRsZVByb21pc2VFcnIocmVzKSk7XHJcbiAgfVxyXG5cclxuICAvL9CU0L7QsdCw0LLQuNGC0YwgbGlrZSDQutCw0YDRgtC40L3QutC1LlxyXG4gIHB1dExpa2VDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIGAvY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlUHJvbWlzZUVycihyZXMpKTtcclxuICB9XHJcblxyXG4gIC8v0KPQtNCw0LvQuNGC0YwgbGlrZSDQutCw0YDRgtC40L3QutC4LlxyXG4gIGRlbGV0ZUxpa2UoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgYC9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVQcm9taXNlRXJyKHJlcykpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcigge3BvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXR9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICAvL3RoaXMuX2NvbmZpcm1CdXR0b24gPSBjb25maXJtQnV0dG9uO1xyXG4gICAgdGhpcy5fZm9ybUNvbmZpcm0gPSAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0tY29uZmlybScpXHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtQ29uZmlybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjb25maXJtRGVsZXRlTXlDYXJkKG15Q2FyZCkge1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBteUNhcmQ7XHJcbiAgIFxyXG4gIH1cclxuICAvKmdldElkQ2FyZChjYXJkKSB7XHJcbiAgICB0aGlzLl9pZCA9IGNhcmQuX2lkO1xyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgfSovXHJcbn1cclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBpdGVtcyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanNcIjtcclxuXHJcbmNvbnN0IHByb2ZpbGVPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1vcGVuXCIpOyAvL9C60L3QvtC/0LrQsCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qvy3QsNC/0LBcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tcHJvZmlsZVwiKTtcclxuLy8g0J3QsNGF0L7QtNC40Lwg0L/QvtC70Y8g0YTQvtGA0LzRiyDQsiBET01cclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pdGVtX3R5cGVfbmFtZVwiKTsgLy8g0JLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0LwgLnF1ZXJ5U2VsZWN0b3IoKVxyXG5jb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faXRlbV90eXBlX2pvYlwiKTsgLy8g0JLQvtGB0L/QvtC70YzQt9GD0LnRgtC10YHRjCDQuNC90YHRgtGA0YPQvNC10L3RgtC+0LwgLnF1ZXJ5U2VsZWN0b3IoKVxyXG5cclxuY29uc3QgY2FyZHNQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtY2FyZHNcIik7IC8v0L/QvtC/LdC/0LDQvyDRhNC+0YDQvNGLINGBINC60LDRgNGC0LjQvdC60LDQvNC4XHJcbmNvbnN0IGNhcmRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtb3BlblwiKTsgLy/QutC90L7Qv9C60LAg0L7RgtC60YDRi9GC0LjRjyDRhNC+0YDQvNGLINC/0L7Qvy3QsNC/0LAg0YEg0LrQsNGA0YLQuNC90LrQsNC80LhcclxuXHJcbi8vY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19lbGVtZW50c1wiKTsgLy8g0YHQv9C40YHQvtC6INC60L7QvdGC0LXQudC90LXRgFxyXG5jb25zdCBmb3JtQ2FyZCA9IGNhcmRzUG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtLWNhcmRcIik7IC8v0LTQu9GPINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuCDQutCw0YDRgtC40L3QutC4XHJcbmNvbnN0IGF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1waG90b1wiKTtcclxuY29uc3QgYXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWF2YXRhclwiKTtcclxuXHJcbmNvbnN0IG9iaiA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX19pdGVtXCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zYXZlXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZV9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pdGVtLWVycm9yX2FjdGl2ZVwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faXRlbV90eXBlX2Vycm9yXCIsXHJcbn07XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJjY2UyZGM2ZC1mY2UwLTRhZGItODBmNi04YjhmY2UzMDY3NTRcIixcclxuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgcmVuZGVyTG9hZGluZyA9IChwb3B1cCwgaXNMb2FkaW5nID0gZmFsc2UpID0+IHtcclxuICBjb25zdCBjdXJyZW50QWN0aXZlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cG9wdXB9IC5wb3B1cF9fc2F2ZWApO1xyXG4gIGlmIChpc0xvYWRpbmcpIHtcclxuICAgIGN1cnJlbnRBY3RpdmVCdXR0b24udGV4dENvbnRlbnQgPSBcItCX0LDQs9GA0YPQt9C60LAuLi5cIjtcclxuICB9IGVsc2Uge1xyXG4gICAgY3VycmVudEFjdGl2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCI7XHJcbiAgfVxyXG59O1xyXG5cclxuLypmZXRjaCgnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00MS91c2Vycy9tZScsIHtcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnY2NlMmRjNmQtZmNlMC00YWRiLTgwZjYtOGI4ZmNlMzA2NzU0J1xyXG4gIH1cclxufSlcclxuICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXN1bHQuYWJvdXQpO1xyXG4gIH0pOyovXHJcblxyXG4vL9Cy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxyXG5jb25zdCB2YWxpZGl0eUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihvYmosIHByb2ZpbGVGb3JtKTtcclxuY29uc3QgdmFsaWRpdHlDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqLCBmb3JtQ2FyZCk7XHJcbmNvbnN0IHZhbGlkaXR5QXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqLCBhdmF0YXJQb3B1cCk7XHJcblxyXG52YWxpZGl0eUZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG52YWxpZGl0eUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG52YWxpZGl0eUF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL9C/0L7Qvy3Qv9Cw0L8g0YEg0LrQsNGA0YLQuNC90LrQvtC5LCDQv9GA0LjRgdCy0L7QtdC90LjQtSDQt9C90LDRh9C10L3QuNC5ICjRjdGC0L4g0L3QtSDQstC+0LvRiNC10LHRgdGC0LLQvilcclxuY29uc3QgcG9wdXBXaXRoT3BlbkltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cC1pbWFnZVwiLFxyXG4gIGltYWdlUGhvdG86IFwiLnBvcHVwX19waG90b1wiLFxyXG4gIGltYWdlVGV4dDogXCIucG9wdXBfX3RleHRcIixcclxufSk7XHJcbi8vINGE0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qvy3Qv9Cw0L/QsCDQutCw0YDRgtC40L3QutC4XHJcbmNvbnN0IGhhbmRsZUNhcmRDbGljayA9IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgcG9wdXBXaXRoT3BlbkltYWdlLm9wZW4obmFtZSwgbGluayk7XHJcbn07XHJcbnBvcHVwV2l0aE9wZW5JbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/Qv9C+0L/QsNC/INGB0L7Qs9C70LDRgdC40Y8g0L/RgNC4INGD0LTQsNC70LXQvdC40Lgg0LrQsNGA0YLQuNC90LrQuFxyXG5jb25zdCBwb3B1cENvbmZpcm0gPSBuZXcgUG9wdXBXaXRoU3VibWl0KFxyXG4gIHsgcG9wdXBTZWxlY3RvcjogXCIuY29uZmlybS1wb3B1cFwiIH0gLyooKSA9PiB7XHJcbiAgYXBpXHJcbiAgICAuZGVsZXRlTmV3Q2FyZChjYXJkLmdldElkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBwb3B1cENvbmZpcm0uX2NhcmQuaGFuZGxlRGVsZXRlQmluQ2xpY2soKTtcclxuICAgICAgcG9wdXBDb25maXJtLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59Ki9cclxuKTtcclxuXHJcbi8v0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INC4INGC0LXQvNC/0LvQtdC50YLQsCDQuCDRhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINC60LDRgNGC0LjQvdC60LhcclxuY29uc3QgY3JlYXRlQ2FyZCA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgdXNlckluZm8uZ2V0VXNlcklkKCksXHJcbiAgICB7XHJcbiAgICAgIGRhdGE6IGl0ZW0sXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgICAgLypoYW5kbGVCaW5DbGljazogKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwQ29uZmlybS5vcGVuKCk7XHJcbiAgICAgICAgY29uc3QgY2FyZElkID0gY2FyZC5nZXRJZCgpO1xyXG4gICAgICAgICBwb3B1cENvbmZpcm0uY29uZmlybURlbGV0ZU15Q2FyZCgoKSA9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAgIC5kZWxldGVOZXdDYXJkKGNhcmRJZClcclxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Zpb2FzZmlqbycpXHJcbiAgICAgICAgICAgICAgICBjYXJkLmhhbmRsZURlbGV0ZUJpbkNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cENvbmZpcm0uY2xvc2UoKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0sKi9cclxuICAgICAgaGFuZGxlQmluQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICBwb3B1cENvbmZpcm0ub3BlbigpO1xyXG4gICAgICAgIHBvcHVwQ29uZmlybS5jb25maXJtRGVsZXRlTXlDYXJkKCgpID0+IHtcclxuICAgICAgICBcclxuICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAuZGVsZXRlTmV3Q2FyZChjYXJkLmdldElkKCkpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkLmhhbmRsZURlbGV0ZUJpbkNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgcG9wdXBDb25maXJtLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUxpa2VDbGljazogKCkgPT4ge1xyXG4gICAgICAgIGlmICghY2FyZC5pc0xpa2VkKCkpIHtcclxuICAgICAgICAgIGFwaVxyXG4gICAgICAgICAgICAucHV0TGlrZUNhcmQoY2FyZC5nZXRJZCgpKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmQudG9nZ2xlTGlrZXNTdGF0ZShkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgLmRlbGV0ZUxpa2UoY2FyZC5nZXRJZCgpKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmQudG9nZ2xlTGlrZXNTdGF0ZShkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBcIi5jYXJkLXRlbXBsYXRlXCJcclxuICApO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn07XHJcblxyXG5cclxuLy8g0LzQsNGB0YHQuNCyINGBINC60LDRgNGC0L7Rh9C60LDQvNC4INCy0YHRgtCw0LLQu9GP0LXQvCDQsiDQv9GA0L7QtdC60YJcclxuZnVuY3Rpb24gY2FyZFJlbmRlcmVyKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgcmVuZGVyQ2FyZC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IG5ldyBTZWN0aW9uKGNhcmRSZW5kZXJlciwgXCIuY2FyZHNfX2VsZW1lbnRzXCIpO1xyXG5cclxuY29uc3QgaW5pdGlhbGNhcmRzID0gYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgLy8g0L7QsdGA0LDQsdCw0YLRi9Cy0LDQtdC8INGA0LXQt9GD0LvRjNGC0LDRglxyXG4gICAgY29uc3QgY2FyZHNJbml0ID0gcmVzdWx0Lm1hcCgoaXRlbSkgPT4gKHtcclxuICAgICAgbmFtZTogaXRlbS5uYW1lLFxyXG4gICAgICBsaW5rOiBpdGVtLmxpbmssXHJcbiAgICAgIGlkOiBpdGVtLl9pZCxcclxuICAgICAgb3duZXJJRDogaXRlbS5vd25lci5faWQsXHJcbiAgICAgIGxpa2VzOiBpdGVtLmxpa2VzLFxyXG4gICAgICBsaWtlQ291bnRlcjogaXRlbS5saWtlcy5sZW5ndGgsXHJcbiAgICB9KSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRzSW5pdDtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyDQstGL0LLQtdC00LXQvCDQvtGI0LjQsdC60YMg0LIg0LrQvtC90YHQvtC70YxcclxuICB9KTtcclxuXHJcbi8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC/LdCw0L/QsCDQtNC+0LHQvtCy0LvQtdC90LjRjyDQutCw0YDRgtC40L3QutC4XHJcbmNhcmRPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgdmFsaWRpdHlDYXJkLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICBwb3B1cFdpdGhDYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG4vLyDQv9C+0L8t0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuVxyXG5jb25zdCBwb3B1cFdpdGhDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXAtY2FyZHNcIiwgaGFuZGxlQ2FyZEFkZFN1Ym1pdCk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkQWRkU3VibWl0KHsgbGluaywgbmFtZSB9KSB7XHJcbiAgcmVuZGVyTG9hZGluZyhcInBvcHVwLWNhcmRzXCIsIHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLmFkZE5ld0NhcmQoeyBuYW1lLCBsaW5rIH0pXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICByZW5kZXJDYXJkLmFkZEl0ZW0oXHJcbiAgICAgICAgY3JlYXRlQ2FyZCh7XHJcbiAgICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICBpZDogZGF0YS5faWQsXHJcbiAgICAgICAgICBvd25lcklEOiBkYXRhLm93bmVyLl9pZCxcclxuICAgICAgICAgIGxpa2VDb3VudGVyOiBkYXRhLmxpa2VzLmxlbmd0aCxcclxuICAgICAgICAgIGxpa2VzOiBkYXRhLmxpa2VzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICAgIHBvcHVwV2l0aENhcmQuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgcmVuZGVyTG9hZGluZyhcInBvcHVwLWNhcmRzXCIsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyDQv9C+0L8t0L/QsNC/INC/0YDQvtGE0LjQu9GMXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICB1c2VybmFtZTogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGpvYjogXCIucHJvZmlsZV9fam9iXCIsXHJcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxufSk7XHJcblxyXG4vL9C/0L7Qu9GD0YfQtdC90LjQtSDQtNCw0L3QvdGL0YUg0LTQu9GPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGdldFVzZXJJbmZvQXBpID0gYXBpXHJcbiAgLmdldFVzZXJJbmZvRnJvbUFwaSgpXHJcbiAgLnRoZW4oKGdldFVzZXJJbmZvQXBpKSA9PiB7XHJcbiAgICByZXR1cm4gZ2V0VXNlckluZm9BcGk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcblxyXG4vL9Ch0L7RhdGA0LDQvdC10L3QuNC1INC00LDQvdC90YvRhSDQtNC70Y8g0L/QvtC/LdCw0L/QsCDRhNC+0YDQvNGLINC/0YDQvtGE0LjQu9GMXHJcbnByb2ZpbGVPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgdmFsaWRpdHlGb3JtLmRpc2FibGVTdWJtaXRCdXR0b24oKTtcclxuICBjb25zdCBwcm9maWxlVXNlclBvcHVwID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlVXNlclBvcHVwLnVzZXJuYW1lOyAvL9C30LDQv9C40YHRi9Cy0LDQtdC8INC00LDQvdC90YvQtSDQsiDQuNC90L/Rg9GCINC40Lcg0L/RgNC+0YTQsNC50LvQsFxyXG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZVVzZXJQb3B1cC5qb2I7XHJcbiAgcG9wdXBXaXRoUHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwLWZvcm1cIiwgaGFuZGxlRm9ybVN1Ym1pdFVzZXIpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdFVzZXIoeyB1c2VybmFtZSwgam9iIH0pIHtcclxuICByZW5kZXJMb2FkaW5nKFwicG9wdXAtZm9ybVwiLCB0cnVlKTtcclxuICBhcGlcclxuICAgIC5hZGRVc2VySW5mbyh7IG5hbWU6IHVzZXJuYW1lLCBhYm91dDogam9iIH0pXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcbiAgICAgICAgdXNlcm5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBqb2I6IGRhdGEuYWJvdXQsXHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcclxuICAgICAgfSk7XHJcbiAgICAgIHBvcHVwV2l0aFByb2ZpbGUuY2xvc2UoKTtcclxuICAgIH0pXHJcblxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHJlbmRlckxvYWRpbmcoXCJwb3B1cC1mb3JtXCIsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcbi8vINC/0YDQvtC80LjRgSDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINC00LDQvdC90YvRhSDQutCw0YDRgtC40L3QutC4INC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xyXG5Qcm9taXNlLmFsbChbaW5pdGlhbGNhcmRzLCBnZXRVc2VySW5mb0FwaV0pXHJcbiAgLnRoZW4oKFtjYXJkc0luaXQsIGdldFVzZXJJbmZvQXBpXSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlcklkKGdldFVzZXJJbmZvQXBpLl9pZCk7XHJcbiAgICByZW5kZXJDYXJkLnJlbmRlckl0ZW1zKGNhcmRzSW5pdCk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcbiAgICAgIHVzZXJuYW1lOiBnZXRVc2VySW5mb0FwaS5uYW1lLFxyXG4gICAgICBqb2I6IGdldFVzZXJJbmZvQXBpLmFib3V0LFxyXG4gICAgICBhdmF0YXI6IGdldFVzZXJJbmZvQXBpLmF2YXRhcixcclxuICAgIH0pO1xyXG4gICAgLy9jb25zb2xlLmxvZyhnZXRVc2VySW5mb0FwaSlcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuLy8g0L/QvtC/0L/QsNC/INC40LfQvNC10L3QtdC90LjRjyDQsNCy0LDRgtCw0YDQsC5cclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5wb3B1cC1hdmF0YXJcIiwgaGFuZGxlRm9ybVN1Ym1pdEF2YXRhcik7XHJcblxyXG5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICB2YWxpZGl0eUF2YXRhci5kaXNhYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUZvcm1TdWJtaXRBdmF0YXIoeyBhdmF0YXIgfSkge1xyXG4gIHJlbmRlckxvYWRpbmcoXCJwb3B1cC1hdmF0YXJcIiwgdHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuYWRkVXNlckF2YXRhcih7IGF2YXRhciB9KVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgICAgIHVzZXJuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgam9iOiBkYXRhLmFib3V0LFxyXG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICAgIH0pO1xyXG4gICAgICBwb3B1cEF2YXRhci5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICByZW5kZXJMb2FkaW5nKFwicG9wdXAtYXZhdGFyXCIsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyDRgdC70YPRiNCw0YLQtdC70LhcclxucG9wdXBDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBXaXRoQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4iXSwibmFtZXMiOlsiQ2FyZCIsInVzZXJJRCIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVCaW5DbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfdGV4dCIsIm5hbWUiLCJfaW1hZ2UiLCJsaW5rIiwiX2lkIiwiaWQiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklEIiwib3duZXJJRCIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUJpbkNsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9saWtlc1VzZXIiLCJzb21lIiwiaXRlbSIsIl9saWtlQ291bnRlciIsImxpa2VDb3VudGVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX3Bob3RvSW1hZ2UiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9iaW5FbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2VsZW1lbnRMaWtlQnV0dG9uIiwiX2VsZW1lbnRMaWtlQ291bnRlciIsIl9zZXRFdmVudExpc3RlbmVycyIsImxlbmd0aCIsImlzTGlrZWQiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiRm9ybVZhbGlkYXRvciIsImZvcm1MaXN0IiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtTGlzdCIsIl9idXR0b25FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaW5wdXRMaXN0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVkIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVTdWJtaXRCdXR0b24iLCJfZW5hYmxlU3VibWl0QnV0dG9uIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiY2FyZEVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbXMiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZVBob3RvIiwiaW1hZ2VUZXh0IiwiX2ltYWdlUGhvdG8iLCJfaW1hZ2VUZXh0IiwiY2FyZG5hbWUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9wb3B1cEZvcm1DYXJkIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJ1c2VybmFtZSIsImpvYiIsImF2YXRhciIsIl91c2VybmFtZSIsIl9qb2IiLCJfYXZhdGFyIiwiX3VzZXJJRCIsIkFwaSIsImNvbmZpZyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfaGFuZGxlUHJvbWlzZUVyciIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiUG9wdXBXaXRoU3VibWl0IiwiX2Zvcm1Db25maXJtIiwibXlDYXJkIiwicHJvZmlsZU9wZW5CdXR0b24iLCJwcm9maWxlRm9ybSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiY2FyZHNQb3B1cCIsImNhcmRPcGVuQnV0dG9uIiwiZm9ybUNhcmQiLCJhdmF0YXJCdXR0b24iLCJhdmF0YXJQb3B1cCIsIm9iaiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJyZW5kZXJMb2FkaW5nIiwicG9wdXAiLCJpc0xvYWRpbmciLCJjdXJyZW50QWN0aXZlQnV0dG9uIiwidmFsaWRpdHlGb3JtIiwidmFsaWRpdHlDYXJkIiwidmFsaWRpdHlBdmF0YXIiLCJlbmFibGVWYWxpZGF0aW9uIiwicG9wdXBXaXRoT3BlbkltYWdlIiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBDb25maXJtIiwiY3JlYXRlQ2FyZCIsImNhcmQiLCJ1c2VySW5mbyIsImdldFVzZXJJZCIsImNvbmZpcm1EZWxldGVNeUNhcmQiLCJkZWxldGVOZXdDYXJkIiwiZ2V0SWQiLCJoYW5kbGVEZWxldGVCaW5DbGljayIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZUxpa2UiLCJ0b2dnbGVMaWtlc1N0YXRlIiwicHV0TGlrZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJyZW5kZXJDYXJkIiwiYWRkSXRlbSIsImluaXRpYWxjYXJkcyIsImdldEluaXRpYWxDYXJkcyIsInJlc3VsdCIsIm1hcCIsIm93bmVyIiwicG9wdXBXaXRoQ2FyZCIsImFkZE5ld0NhcmQiLCJmaW5hbGx5IiwiZ2V0VXNlckluZm9BcGkiLCJnZXRVc2VySW5mb0Zyb21BcGkiLCJwcm9maWxlVXNlclBvcHVwIiwiZ2V0VXNlckluZm8iLCJwb3B1cFdpdGhQcm9maWxlIiwiYWRkVXNlckluZm8iLCJhYm91dCIsInNldFVzZXJJbmZvIiwiYWxsIiwiY2FyZHNJbml0Iiwic2V0VXNlcklkIiwicmVuZGVySXRlbXMiLCJwb3B1cEF2YXRhciIsImFkZFVzZXJBdmF0YXIiXSwic291cmNlUm9vdCI6IiJ9